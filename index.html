<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="XFUEL Protocol - Sub-4s institutional-grade settlement rail for Theta EdgeCloud GPU/video revenue to auto-compounding Cosmos LSTs" />
    <meta name="theme-color" content="#0f172a" />
    <!-- CSP removed for production - Vite production builds don't use eval -->
    <!-- For development, Vite automatically handles CSP via dev server -->
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://xfuel.app/" />
    <meta property="og:title" content="XFUEL Protocol - Sub-4s Settlement Rail" />
    <meta property="og:description" content="Institutional-grade settlement rail: Theta EdgeCloud GPU/video revenue → auto-compounding Cosmos LSTs" />
    <meta property="og:image" content="/logo.png" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://xfuel.app/" />
    <meta property="twitter:title" content="XFUEL Protocol - Sub-4s Settlement Rail" />
    <meta property="twitter:description" content="Institutional-grade settlement rail: Theta EdgeCloud GPU/video revenue → auto-compounding Cosmos LSTs" />
    <meta property="twitter:image" content="/logo.png" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <title>XFUEL Protocol - Sub-4s Settlement Rail</title>
  </head>
  <body>
    <div id="root"></div>
    <!-- Initialize error suppression early, before MetaMask injects -->
    <script>
      (function() {
        'use strict';
        // Suppress MetaMask and Theta Wallet console errors early
        const originalError = console.error;
        const originalWarn = console.warn;
        
        const shouldSuppress = function(args) {
          const msg = Array.from(args).map(a => {
            if (typeof a === 'string') return a;
            if (a instanceof Error) return a.message + ' ' + (a.stack || '');
            return String(a);
          }).join(' ').toLowerCase();
          
          return (
            msg.includes('window.web3.currentprovider') ||
            msg.includes('metamask window.web3') ||
            msg.includes('you are accessing the metamask') ||
            msg.includes('inpage.js') ||
            msg.includes('cors policy') ||
            msg.includes('access-control-allow-origin') ||
            msg.includes('api.thetatoken.org') ||
            msg.includes('guardian/delegated-nodes') ||
            msg.includes('wallet.thetatoken.org') ||
            msg.includes('please update your theta client') ||
            (msg.includes('network error - attempt') && msg.includes('retrying')) ||
            (msg.includes('rate limit') && msg.includes('retrying')) ||
            (msg.includes('{"error":') && msg.includes('theta')) ||
            (msg.includes('failed to load resource') && msg.includes('thetatoken.org')) ||
            (msg.includes('net::err_failed') && msg.includes('thetatoken.org'))
          );
        };
        
        console.error = function() {
          if (!shouldSuppress(arguments)) {
            originalError.apply(console, arguments);
          }
        };
        
        console.warn = function() {
          if (!shouldSuppress(arguments)) {
            originalWarn.apply(console, arguments);
          }
        };
        
        // Also suppress unhandled errors
        window.addEventListener('error', function(e) {
          const msg = (e.message || '').toLowerCase();
          const src = (e.filename || '').toLowerCase();
          if (
            msg.includes('cors policy') ||
            msg.includes('api.thetatoken.org') ||
            msg.includes('window.web3.currentprovider') ||
            msg.includes('please update your theta client') ||
            src.includes('inpage.js') ||
            src.includes('thetatoken.org')
          ) {
            e.preventDefault();
            e.stopPropagation();
            return false;
          }
        }, true);
        
        window.addEventListener('unhandledrejection', function(e) {
          const reason = String(e.reason || '').toLowerCase();
          if (
            reason.includes('cors policy') ||
            reason.includes('api.thetatoken.org') ||
            reason.includes('guardian/delegated-nodes')
          ) {
            e.preventDefault();
            return false;
          }
        });
      })();
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>

